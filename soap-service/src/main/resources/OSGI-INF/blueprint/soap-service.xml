<?xml version="1.0" encoding="UTF-8"?>
<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xmlns:jaxws="http://cxf.apache.org/jaxws"
           xmlns:cm="http://aries.apache.org/blueprint/xmlns/blueprint-cm/v1.1.0"
           xmlns:cxf="http://cxf.apache.org/blueprint/core"
           xsi:schemaLocation="http://www.osgi.org/xmlns/blueprint/v1.0.0
           http://www.osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd
           http://cxf.apache.org/schemas/jaxws.xsd">

    <cm:property-placeholder persistent-id="uillirt.scala.soap.service" id="uillirt-soap-service" activation="lazy"
                             update-strategy="reload">
        <cm:default-properties>
            <cm:property name="sample.property.name" value="sample.property.value"/>
            <cm:property name="application.soap.host_port" value="localhost:8181"/>
        </cm:default-properties>
    </cm:property-placeholder>

    <cxf:bus id="cxfBus">
        <cxf:features>
            <cxf:logging/>
        </cxf:features>
    </cxf:bus>

    <!--
    address="/carrierbilling/"
                          serviceClass="com.vimpelcom.carrierbillinghub.google.soap.CarrierBilling"
                          endpointName="tns:CarrierBillingSOAP"
                          serviceName="tns:CarrierBilling"
    -->
    <jaxws:endpoint id="testSoapServiceWs"
                    xmlns:o="http://uillirt.com/scala/projects/ws/"
                    address="http://localhost:8181/cxf/testSoapService/"
                    bus="cxfBus"
                    serviceName="o:TestSoapService"
                    endpointName="o:TestSoapServiceSOAP"
                    wsdlLocation="META-INF/wsdl/TestSoapService.wsdl">
        <jaxws:implementor>
            <ref component-id="testSoapService"/>
        </jaxws:implementor>
    </jaxws:endpoint>

    <bean id="testSoapService" class="com.uillirt.scala.projects.soap.service.TestSoapServiceImpl"/>

</blueprint>